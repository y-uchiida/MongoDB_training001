# 集計処理(aggregate)内の project ステージ

返却されるドキュメントデータを、指定のフィールドと並び順でソートする

## 凡例

```js
db.<collection_name>.aggregate([
	{$sort: {<field_name>: <1 | -1> [, ...]},
]);
```

## 設定の仕方

`1` のを設定した場合は昇順、 `-1`を設定した場合は降順でソートされる  
また、複数のフィールドを設定した場合は、最初に書いたものでソートした後、同率となってしまう場合に 2 番目以降のフィールドと並び順でソートしていく

## 使用例

```js
// 本の価格が安い順にソートする(見づらくなるので書名と価格のみ取り出し)
db.books.aggregate([
  {
    $project: {
      _id: 0,
      title: 1,
      price: 1,
    },
  },
  {
    $sort: { price: 1 },
  },
]);
```

```js
// 本の価格が高い順にソートする(見づらくなるので書名と価格のみ取り出し)
db.books.aggregate([
  {
    $project: {
      _id: 0,
      title: 1,
      price: 1,
    },
  },
  {
    $sort: { price: -1 }, // 降順の場合は -1
  },
]);
```
